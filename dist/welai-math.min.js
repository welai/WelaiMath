!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["welai-math"]=n():e["welai-math"]=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Point=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e&&2===e.length)var t=e.slice();else if(e[0]){if((t=e[0].slice()).length<2)throw Error(t+" is not a valid point.")}else{if(!e[0])throw Error("Incompatible arguments "+e);t=e[0].slice()}return Object.defineProperty(t,"x",{get:function(){return t[0]},set:function(e){t[0]=e}}),Object.defineProperty(t,"y",{get:function(){return t[1]},set:function(e){t[1]=e}}),t.equals=function(e){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t},n.Segment=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e&&3===e.length)var t=e.slice();else{if(!e[0])throw Error("Incompatible arguments "+e);if((t=e[0].slice()).length<3)throw Error(t+" is not a valid segment.")}return Object.defineProperty(t,"cp1",{get:function(){return t[0]},set:function(e){t[0]=e}}),Object.defineProperty(t,"op",{get:function(){return t[1]},set:function(e){t[1]=e}}),Object.defineProperty(t,"cp2",{get:function(){return t[2]},set:function(e){t[2]=e}}),t}},function(e,n,t){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var o=[[{x:553,y:348,on:!0},{x:553,y:634,on:!1},{x:392,y:689,on:!1},{x:230,y:689,on:!0},{x:83,y:689,on:!0},{x:83,y:0,on:!0},{x:241,y:0,on:!0},{x:384,y:0,on:!1},{x:553,y:59,on:!1}],[{x:460,y:348,on:!0},{x:460,y:120,on:!1},{x:351,y:70,on:!1},{x:252,y:70,on:!0},{x:170,y:70,on:!0},{x:170,y:618,on:!0},{x:251,y:618,on:!0},{x:346,y:618,on:!1},{x:460,y:588,on:!1}]],u=r(t(2)).default.fromCubicCaryll(o);console.log(o),console.log(u.toCubicCaryll())},function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var o=t(3),u=r(t(0)),i=function(){function e(e){this.paths=e?e.map(function(e){return e.filter(function(e){return 0!=e.length}).map(function(e){for(var n=e.slice();n.length<3;)n.push(n[n.length-1]);for(;n.length>3;)n.pop();return u.Segment(n.map(function(e){return u.Point(e)}))})}):[]}return e.fromCubicCaryll=function(n){var t=new e;return t.paths=o.cubic2welai(n),t},e.prototype.toCubicCaryll=function(){return o.welai2cubic(this.paths)},e}();n.default=i},function(e,n,t){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n};Object.defineProperty(n,"__esModule",{value:!0});var o=r(t(0));n.cubic2welai=function(e){return e.map(function(e){return function(e){for(var n=e.slice(),t=[];n.length>0;){var r=n[0];r.on?(t[t.length-1]&&!t[t.length-1].op?t[t.length-1].op=o.Point(r.x,r.y):t.push(o.Segment(null,o.Point(r.x,r.y),null)),n.splice(0,1)):(t[t.length-1]&&!t[t.length-1].cp2?t[t.length-1].cp2=o.Point(r.x,r.y):t.push(o.Segment(o.Point(r.x,r.y),null,null)),n.splice(0,1))}for(var u=!1,i=0,c=t;i<c.length;i++){var l=c[i];l.cp1||(l.cp1=l.op),l.cp2||(l.cp2=l.op),l.op||(u=!0)}if(u){var f=t.pop();t[0].cp1=f.cp1}return t}(e)})},n.welai2cubic=function(e){return e.map(function(e){return e.map(function(e){var n=!0,t=!0;return e.cp1.equals(e.op)&&(n=!1),e.cp2.equals(e.op)&&(t=!1),o.Segment(n?o.Point(e.cp1):null,o.Point(e.op),t?o.Point(e.cp2):null)})}).map(function(e){var n=[];if(0!=e.length){n.push({x:e[0].op.x,y:e[0].op.y,on:!0}),e[0].cp2&&n.push({x:e[0].cp2.x,y:e[0].cp2.y,on:!1});for(var t=1;t<e.length;t++){var r=e[t];r.cp1&&n.push({x:r.cp1.x,y:r.cp1.y,on:!1}),r.op&&n.push({x:r.op.x,y:r.op.y,on:!0}),r.cp2&&n.push({x:r.cp2.x,y:r.cp2.y,on:!1})}e[0].cp1&&n.push({x:e[0].cp1.x,y:e[0].cp1.y,on:!1})}return n})}}])});